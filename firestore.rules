
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Permite que cualquiera lea la colección de artículos, pero no que la modifique.
    match /articulos/{articleId} {
      allow read: if true;
      allow write: if false; // Por seguridad, la escritura se hará desde la consola de Firebase.
    }

    // Protege los datos de los usuarios.
    // Solo el usuario autenticado puede leer y escribir sus propios documentos.
    match /usuarios/{userId}/{documents=**} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
